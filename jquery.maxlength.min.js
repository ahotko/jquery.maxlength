/*!
 * jquery.maxlength.js - version 1.5.5 - 2023-05-20
 * Copyright (c) 2023 scintilla0 (https://github.com/scintilla0)
 * @license MIT License http://www.opensource.org/licenses/mit-license.html
 * @license GPL2 License http://www.gnu.org/licenses/gpl.html
 */
let NumberUtil;!function(){const e=[110,190],n=[109,189],l={V:86,X:88},i=[48,49,50,51,52,53,54,55,56,57,96,97,98,99,100,101,102,103,104,105],r={a:116,b:27,c:8,d:46,e:9,g:13,f:108,h:33,i:34,j:35,k:36,l:37,m:38,n:39,o:40},u={p:0,q:1,r:2,w:3,v:4},s={e:"-.0123456789",q:"-",r:".",s:"0",t:",",u:"",f:"integral",g:"fractional",a:"minus",h:"_max_length_no_",i:"data-max-length",j:"data-disable-init-refresh",k:"data-disable-autofill",l:"data-disable-auto-comma",c:"data-disable-smart-minus",d:"data-enable-highlight-minus",m:"data-horizontal-align",n:"data-sum",o:/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/},o={m:"right",b:"#FF0000"},a={integral:9},c=["left","center","right","inherit"],f=function(){function t(t){return void 0!==t&&null!=t}let e={};function n(t,n,l=0){null==e[n]?(e[n]=setTimeout((()=>e[n]=null),l),setTimeout((()=>t.apply()))):(clearTimeout(e[n]),e[n]=setTimeout((()=>e[n]=null),l))}return{exists:t,isBlank:function(e){return!(t(e)&&""!==e.trim())},throttleTimer:e,throttle:n,setValue:function(t,e,...l){for(let i of l)$(i).each(((l,i)=>{$(i).is("input:radio, input:checkbox")?($(i).prop("checked",!1),$(i).filter("[value='"+t.toString()+"']").prop("checked",!0)):$(i).is("input:text, input:hidden, textarea, select")?$(i).val(t):$(i).is("label, span")?$(i).text(t):$(i).is("a")&&$(i).attr("href",t),!0===e&&n((()=>$(i).blur().change()),$(i).attr("id"))}))},getValue:function(t){return $(t).is("input:radio, input:checkbox")?$(t).filter(":checked").val():$(t).is("input:text, input:hidden, textarea, select")?$(t).val():$(t).is("label, span")?$(t).text():$(t).is("a")?$(t).attr("href"):void 0}}}(),N=L();let d,T={},I="["+s.i+"]";function O({target:t}){let e=t.value;S(t,s.k)&&(e=N.drainFractional(e)),S(t,s.l)&&(e=N.undressNumber(e)),t.value=e,S(t,s.d)||t.style.setProperty("color","")}function M({target:t}){let e=N.drainIntegral(t.value);if(S(t,s.k)&&(e=N.fillFractional(e,h(t)[s.g])),S(t,s.l)&&(e=N.dressNumber(e)),t.value=e,!S(t,s.d))if(e.includes(s.q)){let e=$(t).attr(s.d);t.style.setProperty("color",s.o.test(e)?e:o.b)}else t.style.setProperty("color","")}function A(t){let e=$(t).attr(s.m);c.includes(e)||(e=void 0),e=f.exists(e)?e:o.m,t.style.setProperty("text-align",e)}function g(t){let e=t.id;f.isBlank(e)&&(e=s.h+Object.values(T).length,t.id=e);let n=$(t).attr(s.i);if(f.isBlank(n)||isNaN(Number(n)))return void(T[e]=a);if(n.startsWith(s.r)||n.endsWith(s.r)||!n.startsWith(s.q)&&n.includes(s.q))return void(T[e]=a);let l=n.includes(s.q)?n.substring(1):n,i=l.split(s.r);if(isNaN(Number(i[0]))||l===s.s&&isNaN(Number(i[1])))return void(T[e]=a);let r={};r[s.f]=Number(i[0]),0===r[s.f]&&(r[s.f]=a[s.f]),-1!==l.indexOf(s.r)&&i[1]!==s.s&&(r[s.g]=Number(i[1])),n.startsWith(s.q)&&(r[s.a]=1),T[e]=r}function h(t){let e=T[t.id];return f.exists(e)||(A(t),g(t),e=T[t.id]),e}function E(t,e){let n=t.value,l=t.selectionStart,i=t.selectionEnd,r=n.substring(l,i);if(0===r.length)return!0;if(r.includes(s.r)){return!((n.includes(s.q)?n.substring(1):n).length-(i-l)>e[s.f])}return!0}function S(t,e){return!f.exists($(t).attr(e))}function L(){const t="recursion_flag";function e(n,l){let i=null;if(f.exists(n))if("number"==typeof n)i=n;else if("string"==typeof n){let r=n.trim().replaceAll(s.t,s.u);if(!f.isBlank(r))if(r=Number(r),isNaN(r)){if(l!==t&&!f.isBlank(n)){let l=null;0===$(n).length&&(l=f.getValue(n)),i=e(l,t)}}else i=r}return i}function n(t){let e=0,n=t.toString().split(s.r);return n.length>1&&(e=n[1].length),e}function l(t){return Number(t.toString().replace(s.r,s.u))}function i(t,e){let i=n(t),r=n(e),u=Math.max(i,r),s=Math.pow(10,u-i),o=Math.pow(10,u-r),a=Math.pow(10,u);return(l(t)*s+l(e)*o)/a}function r(t,e){let i=Math.pow(10,n(t)+n(e));return l(t)*l(e)/i}function u(t,e,n){let l=Math.pow(10,e),i=t*l;return i=n.apply(null,[i]),i/l}return{sum:function(...t){let n=0;for(let l of t)l=e(l),null!==l&&(n=i(n,l));return n},blendSum:function(...t){let n=0,l=!0;for(let r of t)"boolean"!=typeof r?(r=e(r),null!=r&&(l||(r=Number(-r)),n=i(n,r))):l=r;return n},selectorSum:function(...t){let n=0;for(let l of t)$(l).each(((t,l)=>{let r=e($(l).val());null!==r&&(n=i(n,r))}));return n},product:function(...t){let n=null;for(let l of t)l=e(l),null!==l&&(null===n&&(n=1),n=r(n,l));return n},productNN:function(...t){let n=1;for(let l of t)l=e(l),null===l&&(l=0),n=r(n,l);return n},selectorProduct:function(...t){let n=null;for(let l of t)$(l).each(((t,l)=>{let i=e($(l).val());null!==i&&(null===n&&(n=1),n=r(n,i))}));return n},selectorProductNN:function(...t){let n=1;for(let l of t)$(l).each(((t,l)=>{let i=e($(l).val());null===i&&(i=0),n=r(n,i)}));return n},quotient:function(t,i){return t=e(t),i=e(i),null===t||null===i||0===i?0:function(t,e){let i=Math.pow(10,n(t)-n(e));return l(t)/l(e)/i}(t,i)},round:function(t,n=0){return u(e(t),n,(t=>Math.round(t)))},floor:function(t,n=0){return u(e(t),n,(t=>Math.floor(t)))},ceil:function(t,n=0){return u(e(t),n,(t=>Math.ceil(t)))},mix2Number:e,dressNumber:function(t){if(null===e(t))return t;let n=(t=(t=t.toString().trim()).replaceAll(s.t,s.u)).split(s.r),l=n[0].replace(/\.+$/g,"").replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,");return f.exists(n[1])&&(l=l+s.r+n[1]),l},undressNumber:function(t){return null===e(t)?t:(t=t.toString().trim()).replaceAll(s.t,s.u)},drainIntegral:function(t){if(null===e(t))return t;let n=(t=t.toString().trim()).includes(s.q),l=t.replace(s.q,s.u);for(;l.startsWith(s.s);)l=l.substring(1);return(0===l.length||l.startsWith(s.r))&&(l=s.s+l),(n?s.q:s.u)+l},drainFractional:function(t){if(null===e(t))return t;let n=(t=t.toString().trim()).split(s.r),l=n[1];for(f.exists(l)||(l=s.u);l.endsWith(s.s);)l=l.substring(0,l.length-1);return n[0]+(0!==l.length?s.r+l:s.u)},fillFractional:function(t,n){if(null===e(t)||!f.exists(n)||0===n)return t;let l=(t=t.toString().trim()).split(s.r),i=l[1];return f.exists(i)||(i=s.u),l[0]+s.r+i.padEnd(n,s.s)},setValue:f.setValue,getValue:f.getValue}}$(I).each(((t,e)=>{A(e),g(e)})),$(document).on("dragstart",I,(function({target:t}){if(t.selectionStart!==t.selectionEnd)return!1})).on("keydown",I,(function({target:t,keyCode:o,ctrlKey:a}){let c=h(t),N=function(t,e,n,i){if(i){if(n===l.V){let n=t.value,l=t.selectionEnd;return setTimeout((()=>{let i=t.value,r=i.includes(s.q)?i.substring(1):i,u=!1;if(!f.exists(e[s.a])&&i.includes(s.q))u=!0;else if(!f.exists(e[s.g])&&i.includes(s.r))u=!0;else if(i.replace(s.r).includes(s.r))u=!0;else if(i.replace(s.q).includes(s.q))u=!0;else{let t=r.split(s.r);(t[0].length>e[s.f]||f.exists(t[1])&&f.exists(e[s.g])&&t[1].length>e[s.g])&&(u=!0)}if(!1===u)for(let t in i)if(!s.e.includes(i[t])){u=!0;break}!0===u&&(t.value=n,t.selectionEnd=l)})),!0}return n!==l.X||E(t,e)}return null}(t,c,o,a);if(f.exists(N))return N;return function(t,l,o){let a=function(t){return e.includes(t)?u.r:n.includes(t)?u.q:i.includes(t)?u.w:Object.values(r).includes(t)?u.v:u.p}(o),c=t.value,N=t.selectionStart,d=t.selectionEnd,T=d,I=$(t).attr(s.c);if(a===u.p)return!1;if(a===u.q){if(f.exists(I))return!!f.exists(l[s.a])&&(0===N&&d===c.length||!c.includes(s.q)&&0===T);if(f.exists(l[s.a])){let e=c.includes(s.q)?c.substring(1):s.q+c;return setTimeout((()=>{t.value=e;let n=T+(c.includes(s.q)?-1:1);0===T&&c.includes(s.q)&&(n=0),t.selectionEnd=n})),c!==e}return!1}if(a===u.r){if(f.exists(l[s.g])){if(0===N&&d===c.length)return t.value="0.",!1;if(c.includes(s.r))return!1;if(c.includes(s.q)&&0===T)return!1;{let e=[c.substring(0,T),c.substring(T,c.length)],n=e[0];return e[0]=e[0].includes(s.q)?e[0].substring(1):e[0],!c.includes(s.q)&&0===T||c.includes(s.q)&&T===c.indexOf(s.q)+1?(e[0].length<=l[s.f]&&e[1].length<=l[s.g]&&(t.value=n+"0."+e[1]),!1):!(e[0].length>l[s.f]||e[1].length>l[s.g])}}return!1}let O=(c.includes(s.q)?c.substring(1):c).split(s.r),M=c.indexOf(s.r);if(a===u.w)return 0===N&&d===c.length||(!c.includes(s.q)||T!==c.indexOf(s.q))&&(c.includes(s.r)?!(O[0].length>=l[s.f]&&T<=M)&&!(O[1].length>=l[s.g]&&T>M):!(O[0].length>=l[s.f]));if(a===u.v)return 0===N&&d===c.length||(o===r.c?N!==d?E(t,l):!(c.includes(s.r)&&T===M+1&&O[0].length+O[1].length>l[s.f]):o!==r.d||(N!==d?E(t,l):!(c.includes(s.r)&&T===M&&O[0].length+O[1].length>l[s.f])));return!1}(t,c,o)})).on("focus",I,O).on("blur",I,M).on("compositionstart",I,(function({target:t}){d=t.value})).on("compositionend",I,(function({target:t}){t.value=d,d=null})),$(I+":not(["+s.j+"])").each(((t,e)=>{O({target:$(e)[0]}),M({target:$(e)[0]})})),$("["+s.n+"]").each((function(t,e){let n=$(e).attr(s.n);$(document).on("change",n,(function(){f.setValue(N.selectorSum(n),!0,e)}))})),NumberUtil=L}();